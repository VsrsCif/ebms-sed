<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd" >
<hibernate-mapping>
    
    <class name="org.msh.ebms.cron.MSHCronJob"
           table="SED_CRON">
        <id name="Id" type="java.math.BigInteger" >
            <column name="ID" scale="0" />
            <generator class="sequence">
                <param name="sequence">SEQ_SED_CRON</param>
            </generator>
        </id>
        <property column="MINUTE" name="Minute"  length="64" type="java.lang.String"/>
        <property column="HOUR" name="Hour"  length="64" type="java.lang.String"/>
        <property column="DAY_OF_MONTH" name="DayOfMonth"  length="64" type="java.lang.String"/>
        <property column="MONTH" name="Month"  length="64" type="java.lang.String"/>
        <property column="DAY_OF_WEEK" name="DayOfWeek"  length="64" type="java.lang.String"/>

        
        <component name="MSHTask" class="org.msh.ebms.cron.MSHTask">
            <property column="TASK_TYPE" name="TaskType"  length="64" type="java.lang.String"/>
            <bag name="mshTaskProperties"  access="field" cascade="all" lazy="false" order-by="Id asc" >
                <key not-null="true">
                    <column name="CRON_ID" scale="0" />
                </key>
                <one-to-many class="org.msh.ebms.cron.MSHTaskProperty" />
            </bag>
        </component>
        
    </class>    
    
    <class name="org.msh.ebms.cron.MSHTaskProperty" table="SED_TASK_PROPERTY">
        <id name="Id" type="java.math.BigInteger">
            <column name="ID" scale="0" />
            <generator class="sequence">
                <param name="sequence">SEQ_SED_TASK_PROP</param>                
            </generator>
        </id>		
        <property column="NAME" name="Name" type="java.lang.String"  length="128" /> 
        <property column="VALUE" name="Value" type="java.lang.String" length="512" />         
    </class>
    
    <query name="org.msh.ebms.cron.MSHCronJob.getById" ><![CDATA[SELECT p FROM MSHCronJob p WHERE p.Id = :id]]></query>     
    <query name="org.msh.ebms.cron.MSHCronJob.getAll" ><![CDATA[SELECT p FROM MSHCronJob p order by id desc]]></query>
    

</hibernate-mapping>